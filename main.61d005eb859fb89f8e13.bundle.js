(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{364:function(module,__webpack_exports__,__webpack_require__){"use strict";var classCallCheck=__webpack_require__(360),createClass=__webpack_require__(361),possibleConstructorReturn=__webpack_require__(365),getPrototypeOf=__webpack_require__(362),inherits=__webpack_require__(366),assertThisInitialized=__webpack_require__(24),defineProperty=__webpack_require__(40),index_es=__webpack_require__(19),styles=__webpack_require__(45),icons_index_es=__webpack_require__(102),lab_index_es=__webpack_require__(363),classnames=__webpack_require__(16),classnames_default=__webpack_require__.n(classnames),react=__webpack_require__(0),react_default=__webpack_require__.n(react),colorManipulator=__webpack_require__(121),styles_getColor=function getColor(theme,type,opacity){var color=theme.palette[type]["light"===theme.palette.type?"main":"dark"];return opacity?Object(colorManipulator.lighten)(color,opacity):color},styles_getGreyColor=function getGreyColor(theme,opacity){var greyColor=theme.palette.grey[500];return opacity?Object(colorManipulator.lighten)(greyColor,opacity):greyColor},constants={Events:{TIME_UPDATE:"timeupdate",CAN_PLAY:"canplaythrough"},Status:{PLAY:"play",PAUSE:"pause",MUTE:"mute",UNMUTE:"unmute",LOOP:"loop",UNLOOP:"unloop"}},actions_getPlayerStateFromAction=function getPlayerStateFromAction(player,action){var newState=null;switch(action){case constants.Status.LOOP:newState=function loopAudio(player){if(player){var loopStatus=null;return player.loop?(player.loop=!1,loopStatus=constants.Status.UNLOOP):(player.loop=!0,loopStatus=constants.Status.LOOP),{loopStatus:loopStatus}}return null}(player);break;case constants.Status.MUTE:newState=function muteAudio(player){if(player){var muteStatus=null;return player.muted?(player.muted=!1,muteStatus=constants.Status.UNMUTE):(player.muted=!0,muteStatus=constants.Status.MUTE),{muteStatus:muteStatus}}return null}(player);break;case constants.Status.PLAY:default:newState=function playAudio(player){if(player){var playStatus=null;return player.paused?(player.play(),playStatus=constants.Status.PLAY):(player.pause(),playStatus=constants.Status.PAUSE),{playStatus:playStatus}}return null}(player)}return newState},attachToEvent=function attachToEvent(player,name,callback){player&&player.addEventListener(name,function(){return callback(player)},!1)},removeFromEvent=function removeFromEvent(player,name,callback){player&&player.removeEventListener(name,function(){return callback(player)},!1)},appendZero=function appendZero(number){return number<10?"0".concat(number):number},getFormattedTime=function getFormattedTime(time){var dateTime=new Date(0,0,0,0,0,time,0),dateTimeM=appendZero(dateTime.getMinutes()),dateTimeS=appendZero(dateTime.getSeconds());return"".concat(dateTimeM,":").concat(dateTimeS)},getProgress=function getProgress(currentTime,duration){return parseFloat(currentTime/duration*100)},getCurrentTime=function getCurrentTime(progress,duration){return parseFloat(progress*duration/100)},AudioPlayer_AudioPlayer=function(_React$Component){function AudioPlayer(){var _getPrototypeOf2,_this;Object(classCallCheck.a)(this,AudioPlayer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=Object(possibleConstructorReturn.a)(this,(_getPrototypeOf2=Object(getPrototypeOf.a)(AudioPlayer)).call.apply(_getPrototypeOf2,[this].concat(args))),Object(defineProperty.a)(Object(assertThisInitialized.a)(Object(assertThisInitialized.a)(_this)),"player",null),Object(defineProperty.a)(Object(assertThisInitialized.a)(Object(assertThisInitialized.a)(_this)),"state",{current:0,progress:0,duration:0,loopStatus:constants.Status.UNLOOP,playStatus:constants.Status.PAUSE,muteStatus:constants.Status.UNMUTE}),Object(defineProperty.a)(Object(assertThisInitialized.a)(Object(assertThisInitialized.a)(_this)),"triggerAction",function(action){var newState=actions_getPlayerStateFromAction(_this.player,action);newState&&_this.setState(newState)}),Object(defineProperty.a)(Object(assertThisInitialized.a)(Object(assertThisInitialized.a)(_this)),"handleCanPlay",function(player){attachToEvent(player,constants.Events.TIME_UPDATE,_this.handleTimeUpdate),_this.setState({duration:player.duration})}),Object(defineProperty.a)(Object(assertThisInitialized.a)(Object(assertThisInitialized.a)(_this)),"handleTimeUpdate",function(player){_this.setState({current:player.currentTime,progress:getProgress(player.currentTime,player.duration)})}),Object(defineProperty.a)(Object(assertThisInitialized.a)(Object(assertThisInitialized.a)(_this)),"handleChange",function(progress,player){if(player){var currentTime=getCurrentTime(progress,player.duration);isNaN(currentTime)||(player.currentTime=currentTime),_this.setState({progress:progress,currentTime:currentTime})}}),_this}return Object(inherits.a)(AudioPlayer,_React$Component),Object(createClass.a)(AudioPlayer,[{key:"componentDidMount",value:function componentDidMount(){attachToEvent(this.player,constants.Events.CAN_PLAY,this.handleCanPlay),this.props.autoPlay&&this.triggerAction(constants.Status.PLAY)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.player&&(removeFromEvent(this.player,constants.Events.TIME_UPDATE,this.handleTimeUpdate),removeFromEvent(this.player,constants.Events.CAN_PLAY,this.handleCanPlay),this.player=null)}},{key:"render",value:function render(){var _this2=this,_this$props=this.props,src=_this$props.src,rounded=_this$props.rounded,elevation=_this$props.elevation,classes=_this$props.classes,_this$props$className=_this$props.classNames,player=_this$props$className.player,loopIcon=_this$props$className.loopIcon,playIcon=_this$props$className.playIcon,muteIcon=_this$props$className.muteIcon,slider=_this$props$className.slider,track=_this$props$className.track,thumb=_this$props$className.thumb,text=_this$props$className.text,_this$state=this.state,loopStatus=_this$state.loopStatus,playStatus=_this$state.playStatus,muteStatus=_this$state.muteStatus,progress=_this$state.progress,current=_this$state.current,duration=_this$state.duration,PlayStatusIcon=function getIconByPlayerStatus(playerStatus){switch(playerStatus){case constants.Status.PAUSE:return icons_index_es.b;case constants.Status.PLAY:default:return icons_index_es.a}}(playStatus),isLoopEnable=loopStatus===constants.Status.LOOP,isMuteEnable=muteStatus===constants.Status.MUTE;return react_default.a.createElement(react.Fragment,null,react_default.a.createElement("audio",{ref:function ref(node){return _this2.player=node},preload:"true",controls:!0,hidden:!0},react_default.a.createElement("source",{src:src})),react_default.a.createElement(index_es.a,{className:classnames_default()(classes["player-container"],player),elevation:elevation,rounded:rounded,component:index_es.b,alignContent:"center",justify:"center",alignItems:"center",spacing:8,container:!0},react_default.a.createElement(index_es.a,{md:1,item:!0},react_default.a.createElement(icons_index_es.c,{className:classnames_default()(classes["player-icon-disabled"],loopIcon,Object(defineProperty.a)({},classes["player-default-icon"],isLoopEnable)),onClick:function onClick(){return _this2.triggerAction(constants.Status.LOOP)},focusable:"true"})),react_default.a.createElement(index_es.a,{md:1,item:!0},react_default.a.createElement(PlayStatusIcon,{className:classnames_default()(classes["player-default-icon"],classes["player-main-icon"],playIcon),onClick:function onClick(){return _this2.triggerAction(constants.Status.PLAY)},focusable:"true"})),react_default.a.createElement(index_es.a,{md:1,item:!0},react_default.a.createElement(icons_index_es.d,{className:classnames_default()(classes["player-icon-disabled"],muteIcon,Object(defineProperty.a)({},classes["player-default-icon"],isMuteEnable)),onClick:function onClick(){return _this2.triggerAction(constants.Status.MUTE)},focusable:"true"})),react_default.a.createElement(index_es.a,{md:2,item:!0},react_default.a.createElement(index_es.c,{className:classnames_default()(classes["player-text"],text),align:"center",noWrap:!0},getFormattedTime(current))),react_default.a.createElement(index_es.a,{md:5,item:!0},react_default.a.createElement(lab_index_es.a,{onChange:function onChange(_,progress){return _this2.handleChange(progress,_this2.player)},classes:{root:classnames_default()(classes["player-slider-container"],slider),track:classnames_default()(classes["player-slider-track"],track),thumb:classnames_default()(classes["player-slider-thumb"],thumb)},variant:"determinate",color:"secondary",value:progress})),react_default.a.createElement(index_es.a,{md:2,item:!0},react_default.a.createElement(index_es.c,{className:classnames_default()(classes["player-text"],text),align:"center",noWrap:!0},getFormattedTime(duration)))))}}]),AudioPlayer}(react_default.a.Component);Object(defineProperty.a)(AudioPlayer_AudioPlayer,"displayName","AudioPlayer"),Object(defineProperty.a)(AudioPlayer_AudioPlayer,"defaultProps",{elevation:1,rounded:!1,classes:{},classNames:{},width:"500px",height:"50px"});var components_AudioPlayer_AudioPlayer=Object(styles.withStyles)(function(theme){return{"player-container":{padding:theme.spacing.unit},"player-default-icon":{padding:"0px",margin:"0px",width:"27px",height:"27px",fill:"".concat(styles_getColor(theme,"primary")," !important"),color:"".concat(styles_getColor(theme,"primary")," !important"),"&:hover":{fill:"".concat(styles_getColor(theme,"primary",.25)," !important"),color:"".concat(styles_getColor(theme,"primary",.25)," !important")}},"player-icon-disabled":{padding:"0px",margin:"0px",width:"27px",height:"27px",fill:styles_getGreyColor(theme),color:styles_getGreyColor(theme),"&:hover":{fill:styles_getGreyColor(theme,.25),color:styles_getGreyColor(theme,.25)}},"player-main-icon":{fill:"".concat(styles_getColor(theme,"secondary")," !important"),color:"".concat(styles_getColor(theme,"secondary")," !important"),"&:hover":{fill:"".concat(styles_getColor(theme,"secondary",.25)," !important"),color:"".concat(styles_getColor(theme,"secondary",.25)," !important")}},"player-slider-container":{width:"auto !important","border-radius":"4px"},"player-slider-track":{"background-color":styles_getColor(theme,"primary")},"player-slider-thumb":{"background-color":styles_getColor(theme,"secondary")},"player-text":{color:theme.palette.getContrastText(theme.palette.background.default)}}},{withTheme:!0})(AudioPlayer_AudioPlayer);__webpack_require__.d(__webpack_exports__,"a",function(){return components_AudioPlayer_AudioPlayer})},5687:function(module,exports,__webpack_require__){__webpack_require__(5688),__webpack_require__(5767),module.exports=__webpack_require__(5768)},5768:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(12),__webpack_require__(13);var _storybook_addon_info__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(356),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(101),_storybook_theming__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.addParameters)({options:{brandTitle:"@blackbox-visiosn/mui-audio-player",theme:_storybook_theming__WEBPACK_IMPORTED_MODULE_4__.themes.light}}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.addDecorator)(Object(_storybook_addon_info__WEBPACK_IMPORTED_MODULE_2__.withInfo)({inline:!0,header:!1}));var req=__webpack_require__(6004);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.configure)(function loadStories(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(174)(module))},5775:function(module,exports,__webpack_require__){var map={"./nestedObjectAssign":243,"./nestedObjectAssign.js":243};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=5775},6004:function(module,exports,__webpack_require__){var map={"./index.stories.tsx":6005};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=6004},6005:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _material_ui_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(45),_material_ui_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(19),_material_ui_core_colors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(122),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(101),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__),_src__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(364),theme=Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_0__.createMuiTheme)({palette:{type:"light",primary:_material_ui_core_colors__WEBPACK_IMPORTED_MODULE_2__.deepPurple,secondary:_material_ui_core_colors__WEBPACK_IMPORTED_MODULE_2__.pink}});Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("MUIAudioPlayer",module).add("MUIAudioPlayer",function(){return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_0__.MuiThemeProvider,{theme:theme},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_1__.a,{spacing:16,justify:"center",alignContent:"center",alignItems:"center",container:!0,style:{backgroundColor:"#e0e0e0"}},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_1__.a,{xs:1,sm:1,md:4,lg:4,item:!0}),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_1__.a,{xs:10,sm:10,md:4,lg:4,item:!0},react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_src__WEBPACK_IMPORTED_MODULE_5__.a,{src:"https://s9.converto.io/download-file/zwXZbmwDyWGN7qkqvVPMcQm0pIajpwdE/file.mp3",autoPlay:!1,rounded:!0,elevation:1,width:"100%"})),react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_1__.a,{xs:1,sm:1,md:4,lg:4,item:!0})))})}.call(this,__webpack_require__(174)(module))}},[[5687,1,2]]]);
//# sourceMappingURL=main.61d005eb859fb89f8e13.bundle.js.map